# SEO Implementation Guide

## Overview

This document describes the SEO implementation for Brashline using `react-helmet-async` for meta tag management and JSON-LD structured data for rich snippets.

## Architecture

### MetaManager Component

Located: `src/seo/MetaManager.tsx`

**Purpose:** Centralized SEO meta tag management for all pages.

**Features:**
- Core meta tags (charset, viewport)
- Dynamic title and description per page
- Optional keywords
- Canonical URLs
- hreflang alternates (en/es)
- Open Graph tags for social sharing
- Twitter Card tags
- Favicon and manifest links
- Font preloading with non-blocking pattern

**Usage:**
```tsx
import MetaManager from '@/seo/MetaManager';
import { getPageSEO } from '@/seo/seo';

const MyPage = () => {
  const pageSEO = getPageSEO('home'); // or 'services', 'pricing', etc.
  
  return (
    <>
      <MetaManager pageSEO={pageSEO} lang="en" />
      {/* page content */}
    </>
  );
};
```

### StructuredData Component

Located: `src/seo/StructuredData.tsx`

**Purpose:** Inject JSON-LD structured data for search engines.

**Schemas Injected:**
- LocalBusiness (all pages)
- Organization (all pages)
- FAQPage (pricing page)
- Services ItemList (services page - when implemented)

**Usage:**
```tsx
import StructuredData from '@/seo/StructuredData';

const MyPage = () => {
  return (
    <>
      <StructuredData />
      {/* page content */}
    </>
  );
};
```

### SEO Configuration

Located: `src/seo/seo.ts`

**SEO_CONFIG Object:**
- `siteName`: Brand name
- `siteUrl`: Production URL
- `defaultTitle`, `defaultDescription`, `defaultKeywords`
- `business`: NAP (Name, Address, Phone) for local SEO
- `social`: Social media profile URLs

**Helper Functions:**
- `getPageSEO(page)`: Returns page-specific SEO metadata
- `generateLocalBusinessSchema()`: LocalBusiness JSON-LD
- `generateOrganizationSchema()`: Organization JSON-LD
- `generateFAQPageSchema(faqs)`: FAQ page JSON-LD
- `generateServicesItemList(services)`: Services JSON-LD
- `generateBlogArticleSchema(post)`: Article JSON-LD

## Page-Specific SEO

Each page should call `getPageSEO()` with its page identifier:

```tsx
const pageSEO = getPageSEO('pricing'); // Supported: home, services, pricing, case-studies, about, blog, contact, terms, privacy, cookies, accessibility
```

This returns:
```typescript
{
  title: string;
  description: string;
  keywords?: string;
  ogImage?: string;
  canonical?: string;
  noindex?: boolean;
}
```

## Canonical URLs

Canonical URLs prevent duplicate content issues. Each page should specify its canonical URL:

```tsx
<MetaManager 
  pageSEO={{
    ...pageSEO,
    canonical: 'https://brashline.com/services'
  }} 
/>
```

Default: Falls back to `window.location.href` if not specified.

## Open Graph & Twitter Cards

Automatically generated from `pageSEO`:
- `og:title`, `og:description`, `og:image`, `og:url`
- `twitter:card`, `twitter:title`, `twitter:description`, `twitter:image`

**Custom OG Images:**
Store images in `/public/images/` and reference in `getPageSEO()`:
```typescript
{
  ogImage: '/images/og-pricing.jpg',
}
```

Images should be:
- 1200x630px (Open Graph standard)
- < 5MB file size
- PNG or JPG format

## Font Loading Strategy

Fonts use a non-blocking pattern to avoid render-blocking:

1. DNS prefetch to `fonts.googleapis.com`
2. Preconnect to `fonts.gstatic.com`
3. Preload font CSS
4. Load with `media="print" onLoad="this.media='all'"`

This ensures fonts don't block First Contentful Paint (FCP).

## Structured Data Validation

### Google Rich Results Test

1. Go to: https://search.google.com/test/rich-results
2. Enter URL: `https://brashline.com/pricing`
3. Verify FAQPage schema is detected
4. Check for errors or warnings

### Schema.org Validator

1. Go to: https://validator.schema.org/
2. Paste page URL or JSON-LD code
3. Verify all schemas are valid

## Sitemap & Robots

### Sitemap
Location: `/public/sitemap.xml`
Generated by: `scripts/generate-sitemap.js`

**Regenerate:**
```bash
npm run build
```

**Submit to:**
- Google Search Console
- Bing Webmaster Tools

### Robots.txt
Location: `/public/robots.txt`

**Contents:**
```
User-agent: *
Allow: /

Sitemap: https://brashline.com/sitemap.xml
```

## Social Media Preview Testing

### Facebook/Open Graph
1. Go to: https://developers.facebook.com/tools/debug/
2. Enter URL
3. Click "Scrape Again" to refresh cache
4. Verify image, title, description

### Twitter
1. Go to: https://cards-dev.twitter.com/validator
2. Enter URL
3. Verify Twitter Card preview

### LinkedIn
1. Go to: https://www.linkedin.com/post-inspector/
2. Enter URL
3. Verify preview

## Deployment Checklist

After deploying SEO changes:

- [ ] Verify `https://brashline.com/sitemap.xml` returns 200 OK
- [ ] Verify `https://brashline.com/robots.txt` returns 200 OK
- [ ] Test Rich Results for pricing page
- [ ] Check OG previews on Facebook debugger
- [ ] Check Twitter Card preview
- [ ] Submit sitemap to Google Search Console
- [ ] Monitor Core Web Vitals in PageSpeed Insights
- [ ] Verify canonical URLs in page source
- [ ] Check meta descriptions (155-160 characters)
- [ ] Verify hreflang tags for bilingual support

## Performance Considerations

### Font Loading
- Fonts preloaded but non-blocking
- Falls back to system fonts immediately
- No FOIT (Flash of Invisible Text)

### Meta Tag Injection
- react-helmet-async is async-safe for SSR/SSG
- Minimal runtime overhead
- No layout shift from meta tag updates

### Structured Data
- JSON-LD is preferred over microdata (better performance)
- Injected once per page load
- No impact on rendering critical path

## Troubleshooting

### Meta tags not appearing
- Verify `<HelmetProvider>` wraps root App component
- Check browser DevTools > Elements > `<head>`
- Ensure `MetaManager` is rendered before content

### Structured data not detected
- Verify JSON-LD scripts in page source
- Check for JavaScript errors blocking execution
- Use Rich Results Test to validate schema

### OG images not showing
- Verify image is publicly accessible
- Check image dimensions (1200x630px)
- Clear social media cache (use debugger tools)
- Ensure absolute URLs (not relative paths)

## Future Enhancements

- [ ] Add blog post article schema
- [ ] Implement BreadcrumbList schema for navigation
- [ ] Add Review/Rating schema for case studies
- [ ] Implement hreflang for Spanish pages
- [ ] Add Product schema for pricing plans
- [ ] Implement VideoObject schema for video content

## Resources

- [Google Search Central](https://developers.google.com/search)
- [Schema.org Documentation](https://schema.org/)
- [Open Graph Protocol](https://ogp.me/)
- [Twitter Cards](https://developer.twitter.com/en/docs/twitter-for-websites/cards/overview/abouts-cards)
- [react-helmet-async](https://github.com/staylor/react-helmet-async)
